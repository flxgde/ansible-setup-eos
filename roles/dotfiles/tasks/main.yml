---
# Clone dotfiles repository over HTTPS (no SSH key needed for public repo)
- name: Clone dotfiles repo
  ansible.builtin.git:
    repo: "https://github.com/flxgde/dotfiles.git"
    dest: "{{ ansible_env.HOME }}/.dotfiles"
    version: main
    update: yes
  become: false
  tags:
    - dotfiles
    - zsh
    - hyprland
    - nvim
    - ghostty
    - tmux
    - waybar
    - wofi

- name: Create .config directory
  ansible.builtin.file:
    path: "{{ ansible_env.HOME }}/.config"
    state: directory
    mode: '0755'

- name: Symlink zsh config
  ansible.builtin.import_tasks: zsh.yml
  tags:
    - zsh
    - dotfiles

- name: Symlink hyprland config
  ansible.builtin.import_tasks: hyprland.yml
  tags:
    - hyprland
    - dotfiles

- name: Symlink neovim config
  ansible.builtin.import_tasks: neovim.yml
  tags:
    - nvim
    - dotfiles

- name: Symlink ghostty config
  ansible.builtin.import_tasks: ghostty.yml
  tags:
    - ghostty
    - dotfiles

#- name: Symlink tmux config
#  import_tasks: tmux.yml
#  tags:
#    - tmux
#    - dotfiles
#
#- name: Symlink waybar config
#  import_tasks: waybar.yml
#  tags:
#    - waybar
#    - dotfiles
#
#- name: Symlink wofi config
#  import_tasks: wofi.yml
#  tags:
#    - wofi
#    - dotfiles
#

---
- name: Install Hyprland and essential packages
  community.general.pacman:
    name:
      - hyprland
      - waybar
      - wofi
      - xdg-utils
      - ly
      - polkit-gnome
    state: present
    update_cache: yes
  become: true

- name: Disable SDDM service if enabled
  ansible.builtin.systemd:
    name: sddm
    enabled: no
    state: stopped
  become: true

- name: Enable ly service
  ansible.builtin.systemd:
    name: ly
    enabled: yes
    state: started
  become: true

- name: Set systemd default to graphical.target
  ansible.builtin.command: systemctl set-default graphical.target
  become: true

